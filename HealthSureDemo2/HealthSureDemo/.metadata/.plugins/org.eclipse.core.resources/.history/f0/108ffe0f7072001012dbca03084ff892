<%@page contentType="text/html" pageEncoding="UTF-8"%>
<%@taglib prefix="f" uri="http://java.sun.com/jsf/core"%>
<%@taglib prefix="h" uri="http://java.sun.com/jsf/html"%>

<f:view>
	<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Show All Recipients</title>

<style>
body {
	background-color: #f3f4f6;
	color: #1f2937;
	font-family: Arial, sans-serif;
	margin: 0;
	padding: 0;
	min-height: 100vh;
}

 .navbar {
            background-color: #1e3a8a; /* Deep blue */
            padding: 15px 0;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 2rem;
        }


        .nav-link {
            color: white;
            text-decoration: none;
            font-size: 18px;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .nav-link:hover {
            color: #facc15; /* Yellow hover */
        }

.navbar .active {
	color: #facc15;
	font-weight: bold;
	text-decoration: underline;
}

.heading {
	text-align: center;
	padding: 40px 0 10px;
}

.heading h2 {
	font-size: 28px;
	font-weight: bold;
	margin-bottom: 8px;
}

.heading p {
	color: #6b7280;
}


.table-wrapper {
	max-width: 1200px;
	margin: 0 auto;
	background-color: white;
	border-radius: 8px;
	box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
	overflow-x: auto;
	padding: 20px;
}

table {
	width: 100%;
	border-collapse: collapse;
	font-size: 14px;
	color: #374151;
}

th, td {
	padding: 10px 12px;
	border: 1px solid #d1d5db;
	text-align: left;
}

th {
    background-color: #003366; /* Dark navy blue */
    color: white;
    font-weight: 600;
    border: 1px solid #d1d5db;
}

th:first-child {
    border-top-left-radius: 8px;
}

th:last-child {
    border-top-right-radius: 8px;
}



.no-data {
	text-align: center;
	color: red;
	font-weight: 600;
	margin-top: 20px;
}

.sortable-header {
    cursor: pointer;
    text-decoration: underline;
    color: white !important;  /* White text for links */
}

.sortable-header h\:outputText {
    color: white !important;  /* White text for ↑ ↓ arrows */
}

.sortable-header:hover {
    color: #facc15 !important; /* Soft yellow on hover */
}


.btn {
    background-color: #003366;
    color: white;
    font-weight: 600;
    padding: 10px 20px;
    border: none;
    border-radius: 0;
    cursor: pointer;
    transition: background-color 0.3s;
}

.btn:hover {
    background-color: #002244;
}


.pagination {
	text-align: center;
	margin-top: 20px;
}

.pagination h\:commandButton {
	margin: 0 10px;
	padding: 8px 16px;
	background-color: #1e40af;
	color: white;
	border: none;
	border-radius: 4px;
	font-weight: bold;
	cursor: pointer;
}

.pagination h\:commandButton[disabled] {
	background-color: #94a3b8;
	cursor: not-allowed;
}
</style>
</head>

<body>

	<!-- Navbar -->
	<div class="navbar">
		<h:form style="display:inline;">
			<h:commandLink value="Dashboard" action="dashboard1" />
		</h:form>
		<h:form style="display:inline;">
			<h:commandLink value="Search" action="SearchRecipient1" />
		</h:form>
		<h:form style="display:inline;">
			<h:commandLink value="Show"
				action="#{recipientController.goToShowPage}" styleClass="active" />
		</h:form>
		<h:form style="display:inline;">
			<h:commandLink value="Update" action="UpdateRecipient1" />
		</h:form>
	</div>

	<!-- Heading -->
	<div class="heading">
		<h2>All Recipients</h2>
		<p>Below is the list of all registered recipients.</p>
	</div>

	<!-- Table -->
	<div class="table-wrapper">
		<h:form>

			<!--Table with Sorting + Pagination -->
			<h:dataTable value="#{recipientController.showRecipient}" var="rec">

				<!-- Sorting headers -->
				<h:column>
					<f:facet name="header">
						<%--                         <h:commandLink value="Health ID" action="#{recipientController.sortBy('hId')}" styleClass="sortable-header" />
 --%>
						<h:commandLink action="#{recipientController.sortBy('hId')}"
							styleClass="sortable-header">
							<h:outputText value="Health ID" />
							<h:outputText
								rendered="#{recipientController.sortColumn eq 'hId'}"
								value="#{recipientController.sortAscending ? '↑' : '↓'}" />
						</h:commandLink>
					</f:facet>
					<h:outputText value="#{rec.hId}" />
				</h:column>

				<h:column>
					<f:facet name="header">
						<h:commandLink action="#{recipientController.sortBy('firstName')}"
							styleClass="sortable-header">
							<h:outputText value="First Name " />
							<h:outputText
								rendered="#{recipientController.sortColumn eq 'firstName'}"
								value="#{recipientController.sortAscending ? '↑' : '↓'}" />
						</h:commandLink>
					</f:facet>
					<h:outputText value="#{rec.firstName}" />
				</h:column>

				<h:column>
					<f:facet name="header">
						<h:commandLink action="#{recipientController.sortBy('lastName')}"
							styleClass="sortable-header">
							<h:outputText value="Last Name " />
							<h:outputText
								rendered="#{recipientController.sortColumn eq 'lastName'}"
								value="#{recipientController.sortAscending ? '↑' : '↓'}" />
						</h:commandLink>
					</f:facet>
					<h:outputText value="#{rec.lastName}" />
				</h:column>


				<h:column>
					<f:facet name="header">
						<h:commandLink action="#{recipientController.sortBy('mobile')}"
							styleClass="sortable-header">
							<h:outputText value="Mobile " />
							<h:outputText
								rendered="#{recipientController.sortColumn eq 'mobile'}"
								value="#{recipientController.sortAscending ? '↑' : '↓'}" />
						</h:commandLink>
					</f:facet>
					<h:outputText value="#{rec.mobile}" />
				</h:column>

				<h:column>
					<f:facet name="header">
						<h:outputText value="Gender" />
					</f:facet>
					<h:outputText value="#{rec.gender}" />
				</h:column>

				<h:column>
					<f:facet name="header">
						<h:outputText value="DOB" />
					</f:facet>
					<h:outputText value="#{rec.dob}" />
				</h:column>

				<h:column>
					<f:facet name="header">
						<h:commandLink action="#{recipientController.sortBy('email')}"
							styleClass="sortable-header">
							<h:outputText value="Email" />
							<h:outputText
								rendered="#{recipientController.sortColumn eq 'email'}"
								value="#{recipientController.sortAscending ? '↑' : '↓'}" />
						</h:commandLink>
					</f:facet>
					<h:outputText value="#{rec.email}" />
				</h:column>

				<h:column>
					<f:facet name="header">
						<h:commandLink action="#{recipientController.sortBy('address')}"
							styleClass="sortable-header">
							<h:outputText value="Address" />
							<h:outputText
								rendered="#{recipientController.sortColumn eq 'address'}"
								value="#{recipientController.sortAscending ? '↑' : '↓'}" />
						</h:commandLink>
					</f:facet>
					<h:outputText value="#{rec.address}" />
				</h:column>

				<h:column>
					<f:facet name="header">
						<h:commandLink action="#{recipientController.sortBy('createdAt')}"
							styleClass="sortable-header">
							<h:outputText value="Created At" />
							<h:outputText
								rendered="#{recipientController.sortColumn eq 'createdAt'}"
								value="#{recipientController.sortAscending ? '↑' : '↓'}" />
						</h:commandLink>
					</f:facet>
					<h:outputText value="#{rec.createdAt}" />
				</h:column>

				<h:column>
					<f:facet name="header">
						<h:outputText value="Actions" />
					</f:facet>
<h:commandLink value="Update" action="#{recipientController.prepareUpdate}" 
               style="display: inline-block; background-color: #003366; color: white; padding: 6px 14px; 
                      border-radius: 4px; text-decoration: none; font-weight: bold;">    <f:param name="hid" value="#{rec.hId}" />
</h:commandLink>

				</h:column>

			</h:dataTable>

			<!-- Empty message -->
			<h:outputText value="No recipients to display."
				rendered="#{empty recipientController.showRecipient}"
				styleClass="no-data" />

			<!-- Pagination buttons -->
			<div class="pagination">
				<h:commandButton value="Previous"
					action="#{recipientController.previousPage}"
					disabled="#{recipientController.previousButtonDisabled}" styleClass="btn"/>
				<h:outputText value="#{recipientController.pageNumberDisplay}"
					style="font-weight:bold; padding:5px; color:#2a2a2a;" />
				<h:commandButton value="Next"
					action="#{recipientController.nextPage}"
					disabled="#{recipientController.nextButtonDisabled}" styleClass="btn" />
			</div>
		</h:form>
	</div>

</body>
	</html>
</f:view>
