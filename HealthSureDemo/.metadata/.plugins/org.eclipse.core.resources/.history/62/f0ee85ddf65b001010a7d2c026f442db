<%@ page contentType="text/html" pageEncoding="UTF-8" %>
<%@ taglib prefix="f" uri="http://java.sun.com/jsf/core" %>
<%@ taglib prefix="h" uri="http://java.sun.com/jsf/html" %>

<f:view>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Search Recipient by Health ID</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800 font-sans min-h-screen">

    <!-- ✅ NAVBAR -->
    <div class="bg-blue-900 py-4 shadow-md mb-8">
        <div class="flex justify-center space-x-6">
            <h:form>
                <h:commandLink value="Dashboard" action="dashboardbase"
                               styleClass="text-white hover:text-yellow-300 text-lg font-semibold transition" />
            </h:form>
            <h:form>
                <h:commandLink value="Search" action="SearchRecipientbase"
                               styleClass="text-yellow-300 underline text-lg font-bold transition" />
            </h:form>
            <h:form>
                <h:commandLink value="Show" action="ShowRecipientbase"
                               styleClass="text-white hover:text-yellow-300 text-lg font-semibold transition" />
            </h:form>
            <h:form>
                <h:commandLink value="Update" action="UpdateRecipientbase"
                               styleClass="text-white hover:text-yellow-300 text-lg font-semibold transition" />
            </h:form>
        </div>
    </div>

    <!-- ✅ Main Container -->
    <div class="max-w-xl mx-auto bg-white p-8 rounded shadow">

        <!-- ✅ Heading -->
        <h2 class="text-2xl font-bold text-center mb-6">Search Recipient by Health ID</h2>

        <!-- ✅ Search Form -->
        <h:form prependId="false" styleClass="flex flex-col gap-4">
            <div>
                <h:outputLabel for="hId" value="Enter Health ID:" styleClass="block font-medium mb-1" />
                <h:inputText id="hId" value="#{recipientController.searchHid}"
                             required="true"
                             styleClass="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" />
                <h:message for="hId" styleClass="text-red-600 text-sm mt-1" />
            </div>

            <h:commandButton value="Search Recipient" action="#{recipientController.searchByHid}"
                             styleClass="bg-blue-800 text-white px-4 py-2 rounded hover:bg-blue-900 font-semibold transition" />
        </h:form>

        <!-- ✅ Recipient Info (If Found) -->
        <h:panelGrid columns="2"
                     rendered="#{not empty recipientController.recipient}"
                     styleClass="mt-8 w-full border border-gray-300 rounded overflow-hidden text-sm">

            <h:outputText value="Health ID:" styleClass="font-semibold p-2 bg-gray-100" />
            <h:outputText value="#{recipientController.recipient.hId}" styleClass="p-2" />

            <h:outputText value="First Name:" styleClass="font-semibold p-2 bg-gray-100" />
            <h:outputText value="#{recipientController.recipient.firstName}" styleClass="p-2" />

            <h:outputText value="Last Name:" styleClass="font-semibold p-2 bg-gray-100" />
            <h:outputText value="#{recipientController.recipient.lastName}" styleClass="p-2" />

            <h:outputText value="Mobile:" styleClass="font-semibold p-2 bg-gray-100" />
            <h:outputText value="#{recipientController.recipient.mobile}" styleClass="p-2" />

            <h:outputText value="Gender:" styleClass="font-semibold p-2 bg-gray-100" />
            <h:outputText value="#{recipientController.recipient.gender}" styleClass="p-2" />

            <h:outputText value="DOB:" styleClass="font-semibold p-2 bg-gray-100" />
            <h:outputText value="#{recipientController.recipient.dob}" styleClass="p-2" />

            <h:outputText value="Email:" styleClass="font-semibold p-2 bg-gray-100" />
            <h:outputText value="#{recipientController.recipient.email}" styleClass="p-2" />

            <h:outputText value="Address:" styleClass="font-semibold p-2 bg-gray-100" />
            <h:outputText value="#{recipientController.recipient.address}" styleClass="p-2" />

            <h:outputText value="Created At:" styleClass="font-semibold p-2 bg-gray-100" />
            <h:outputText value="#{recipientController.recipient.createdAt}" styleClass="p-2" />
        </h:panelGrid>

        <!-- ✅ Recipient Not Found Message -->
        <h:outputText value="No recipient found with the given Health ID."
                      rendered="#{empty recipientController.recipient and not empty recipientController.searchHid}"
                      styleClass="block text-red-600 text-center font-semibold mt-6" />
    </div>

</body>
</html>
</f:view>
